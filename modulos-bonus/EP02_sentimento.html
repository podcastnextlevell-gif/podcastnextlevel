<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisador de Sentimento | Next Level</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>

<body class="bg-slate-950 text-white min-h-screen p-8">

    <div class="max-w-5xl mx-auto">
        <div class="mb-8">
            <a href="../bonus.html" class="text-slate-400 hover:text-white text-sm flex items-center gap-2 mb-4">
                <span class="material-symbols-outlined">arrow_back</span>
                Voltar
            </a>
            <h1 class="text-3xl font-bold">ğŸ˜ŠğŸ˜ğŸ˜  Analisador de Sentimento de Feedback</h1>
        </div>

        <!-- Level Selection -->
        <div id="level-selection" class="glass-panel rounded-2xl p-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <button onclick="startLevel('facil', 3)"
                    class="bg-green-500/20 border-2 border-green-500/50 rounded-xl p-6">
                    <span class="text-green-400 font-bold">â­ FÃCIL (5 pts)</span>
                    <p class="text-sm text-slate-300 mt-2">Classifique 3 feedbacks Ã³bvios</p>
                </button>
                <button onclick="startLevel('intermediario', 6)"
                    class="bg-orange-500/20 border-2 border-orange-500/50 rounded-xl p-6">
                    <span class="text-orange-400 font-bold">â­â­ INTERMEDIÃRIO (10 pts)</span>
                    <p class="text-sm text-slate-300 mt-2">Classifique 6 feedbacks variados</p>
                </button>
                <button onclick="startLevel('dificil', 10)"
                    class="bg-red-500/20 border-2 border-red-500/50 rounded-xl p-6">
                    <span class="text-red-400 font-bold">â­â­â­ DIFÃCIL (20 pts)</span>
                    <p class="text-sm text-slate-300 mt-2">Classifique 10 feedbacks complexos</p>
                </button>
            </div>
        </div>

        <!-- Game Area -->
        <div id="game-area" class="hidden">
            <div class="glass-panel rounded-2xl p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold">Feedback <span id="current-index">1</span> de <span id="total"></span>
                    </h3>
                    <div class="text-sm text-slate-400">Acertos: <span id="score"
                            class="text-green-400 font-bold">0</span></div>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-6 mb-6">
                    <p id="feedback-text" class="text-lg text-slate-200"></p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button onclick="classify('positivo')"
                        class="bg-green-500/20 hover:bg-green-500/30 border-2 border-green-500/50 rounded-xl p-4 text-center transition-all">
                        <span class="text-4xl mb-2 block">ğŸ˜Š</span>
                        <span class="font-bold text-green-400">POSITIVO</span>
                    </button>
                    <button onclick="classify('neutro')"
                        class="bg-slate-500/20 hover:bg-slate-500/30 border-2 border-slate-500/50 rounded-xl p-4 text-center transition-all">
                        <span class="text-4xl mb-2 block">ğŸ˜</span>
                        <span class="font-bold text-slate-400">NEUTRO</span>
                    </button>
                    <button onclick="classify('negativo')"
                        class="bg-red-500/20 hover:bg-red-500/30 border-2 border-red-500/50 rounded-xl p-4 text-center transition-all">
                        <span class="text-4xl mb-2 block">ğŸ˜ </span>
                        <span class="font-bold text-red-400">NEGATIVO</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentLevel = null;
        let currentIndex = 0;
        let score = 0;
        let feedbacks = [];

        const feedbacksData = {
            facil: [
                { text: "Produto excelente! Superou minhas expectativas!", sentiment: "positivo" },
                { text: "HorrÃ­vel! Pior compra que jÃ¡ fiz na vida!", sentiment: "negativo" },
                { text: "Ã‰ ok, nada de especial.", sentiment: "neutro" }
            ],
            intermediario: [
                { text: "Adorei o produto, mas achei caro.", sentiment: "positivo" },
                { text: "Atendimento pÃ©ssimo, mas o produto Ã© bom.", sentiment: "neutro" },
                { text: "Entrega rÃ¡pida e produto conforme descrito.", sentiment: "positivo" },
                { text: "NÃ£o recomendo. Muitos problemas.", sentiment: "negativo" },
                { text: "Esperava mais pelo preÃ§o.", sentiment: "neutro" },
                { text: "Decepcionante. NÃ£o vale o investimento.", sentiment: "negativo" }
            ],
            dificil: [
                { text: "Bom produto, mas poderia ser melhor na embalagem.", sentiment: "positivo" },
                { text: "Funciona bem, porÃ©m o manual Ã© confuso.", sentiment: "neutro" },
                { text: "Atendimento competente resolveu rÃ¡pido meu problema.", sentiment: "positivo" },
                { text: "Qualidade questionÃ¡vel para esse valor.", sentiment: "negativo" },
                { text: "NÃ£o Ã© ruim, mas tambÃ©m nÃ£o impressiona.", sentiment: "neutro" },
                { text: "Apesar dos defeitos, ainda atende minhas necessidades.", sentiment: "neutro" },
                { text: "Produto com selo de qualidade, mas faltou cuidado no envio.", sentiment: "positivo" },
                { text: "Frustrante experiÃªncia de compra do inÃ­cio ao fim.", sentiment: "negativo" },
                { text: "Chegou antes do prazo mas com pequeno arranhÃ£o.", sentiment: "neutro" },
                { text: "Excelente custo-benefÃ­cio! Recomendo muito!", sentiment: "positivo" }
            ]
        };

        function startLevel(level, total) {
            currentLevel = level;
            currentIndex = 0;
            score = 0;
            feedbacks = [...feedbacksData[level]];

            document.getElementById('level-selection').classList.add('hidden');
            document.getElementById('game-area').classList.remove('hidden');
            document.getElementById('total').textContent = feedbacks.length;

            showFeedback();
        }

        function showFeedback() {
            if (currentIndex >= feedbacks.length) {
                finishGame();
                return;
            }

            document.getElementById('current-index').textContent = currentIndex + 1;
            document.getElementById('feedback-text').textContent = feedbacks[currentIndex].text;
            document.getElementById('score').textContent = score;
        }

        function classify(choice) {
            const correct = feedbacks[currentIndex].sentiment === choice;

            if (correct) {
                score++;
                showNotification('âœ… Correto!', 'text-green-400');
            } else {
                showNotification(`âŒ Errado! Era ${feedbacks[currentIndex].sentiment}`, 'text-red-400');
            }

            currentIndex++;
            setTimeout(showFeedback, 1000);
        }

        function showNotification(message, colorClass) {
            const notif = document.createElement('div');
            notif.className = `fixed top-4 right-4 glass-panel rounded-xl px-6 py-4 ${colorClass} font-bold shadow-lg`;
            notif.textContent = message;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 1000);
        }

        function finishGame() {
            const total = feedbacks.length;
            const percent = (score / total * 100).toFixed(0);
            const points = currentLevel === 'facil' ? 5 : currentLevel === 'intermediario' ? 10 : 200;

            if (percent >= 70) {
                alert(`ğŸ‰ ParabÃ©ns! VocÃª acertou ${score} de ${total} (${percent}%)\n\n+${points} pontos conquistados!`);
                window.location.href = '../bonus.html';
            } else {
                alert(`ğŸ“Š VocÃª acertou ${percent}%\n\nPrecisa de 70% para passar. Tente novamente!`);
                window.location.reload();
            }
        }
    </script>
</body>

</html>
